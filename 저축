#include <iostream>
#include <string>
#include <iomanip>
#include <map>
#include <cmath>
#include <algorithm>
#include <numeric>
#include <sstream>

using namespace std;

// ì—°ë´‰ê³„ì‚°ë²•: ì¼ê¸‰ * 261ì¼ (ì´ë¯¸ì§€ cca352.png ì°¸ì¡°)
const int WORK_DAYS_PER_YEAR = 261;

// **ë°ì´í„° 1: ì§ë¬´ë³„ ì¼í‰ê·  ì„ê¸ˆ (2022ë…„~2024ë…„)** - image_cca352.png
map<string, map<int, double>> dailyWages = {
    {"IT ê¸°íšì", {{2022, 419656}, {2023, 481654}, {2024, 562993}}},
    {"IT ì»¨ì„¤í„´íŠ¸", {{2022, 476007}, {2023, 476404}, {2024, 471166}}},
    {"ì—…ë¬´ë¶„ì„ê°€", {{2022, 544972}, {2023, 532956}, {2024, 436765}}},
    {"ë°ì´í„°ë¶„ì„ê°€", {{2022, 347476}, {2023, 380190}, {2024, 376271}}},
    {"IT PM", {{2022, 463265}, {2023, 456225}, {2024, 443955}}},
    {"ITì•„í‚¤í…íŠ¸", {{2022, 518084}, {2023, 534135}, {2024, 492609}}},
    {"UI/UX ê¸°íš/ê°œë°œì", {{2022, 291414}, {2023, 315898}, {2024, 326566}}},
    {"UI/UXë””ìì´ë„ˆ", {{2022, 217843}, {2023, 224150}, {2024, 251272}}},
    {"ì‘ìš©SWê°œë°œì", {{2022, 311962}, {2023, 341064}, {2024, 337061}}},
    {"ì‹œìŠ¤í…œSWê°œë°œì", {{2022, 247590}, {2023, 278819}, {2024, 296070}}},
    {"ì •ë³´ì‹œìŠ¤í…œìš´ì˜ì", {{2022, 326653}, {2023, 435608}, {2024, 492943}}},
    {"ITì§€ì›ê¸°ìˆ ì", {{2022, 190219}, {2023, 215203}, {2024, 245535}}},
    {"ITë§ˆì¼€í„°", {{2022, 378726}, {2023, 483647}, {2024, 536729}}},
    {"ITí’ˆì§ˆê´€ë¦¬ì", {{2022, 402626}, {2023, 442826}, {2024, 470490}}},
    {"ITí…ŒìŠ¤í„°", {{2022, 208959}, {2023, 189146}, {2024, 173328}}},
    {"ITê°ë¦¬", {{2022, 456540}, {2023, 485624}, {2024, 502494}}},
    {"ì •ë³´ë³´ì•ˆì „ë¬¸ê°€", {{2022, 362961}, {2023, 454136}, {2024, 478500}}}
};

// **ë°ì´í„° 2: ì„¸ê¸ˆ ë° ë³´í—˜ë£Œìœ¨** - image_cca337.png
map<string, double> deductionRates = {
    {"êµ­ë¯¼ì—°ê¸ˆ", 0.0450}, 
    {"ê±´ê°•ë³´í—˜", 0.0355},
    {"ì¥ê¸°ìš”ì–‘ë³´í—˜", 0.1295},
    {"ê³ ìš©ë³´í—˜", 0.0090},
    {"ì†Œë“ì„¸", 0.02}
};

// **ë°ì´í„° 3: ì €ì¶• ë“±ê¸‰ ê¸°ì¤€** - image_cca31b.png
map<string, long long> savingGrades = {
    {"S", 200000000}, // 2ì–µ
    {"A", 100000000}, // 1ì–µ
    {"B", 50000000},  // 5ì²œë§Œ
    {"C", 30000000},  // 3ì²œë§Œ
    {"D", 20000000},  // 2ì²œë§Œ
    {"E", 10000000}   // 1ì²œë§Œ
};

// --- í•¨ìˆ˜ ì •ì˜ ---
long long calculateAnnualSalary(double dailyWage) {
    return static_cast<long long>(round(dailyWage * WORK_DAYS_PER_YEAR));
}

map<string, long long> calculateDeductions(long long annualSalary) {
    map<string, long long> deductions;
    
    for (const auto& pair : deductionRates) {
        if (pair.first == "ì¥ê¸°ìš”ì–‘ë³´í—˜") continue;
        long long deduction = static_cast<long long>(annualSalary * pair.second);
        deductions[pair.first] = deduction;
    }

    long long healthInsurance = deductions["ê±´ê°•ë³´í—˜"];
    double ltcRate = deductionRates["ì¥ê¸°ìš”ì–‘ë³´í—˜"];
    long long ltcDeduction = static_cast<long long>(healthInsurance * ltcRate);
    deductions["ì¥ê¸°ìš”ì–‘ë³´í—˜"] = ltcDeduction;

    return deductions;
}

string getSavingGrade(long long totalSavings) {
    if (totalSavings < 0) {
        return "Fë“±ê¸‰ (ìŒìˆ˜)";
    }
    
    for (const auto& pair : savingGrades) {
        if (totalSavings >= pair.second) {
            return pair.first + "ë“±ê¸‰";
        }
    }
    
    return "Fë“±ê¸‰ (1ì²œë§Œ ë¯¸ë§Œ)";
}

/**
 * ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ ì„¸ê¸ˆ/ë³´í—˜ë£Œë¥¼ ê³„ì‚°í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ë©”ì¸ ë¡œì§
 */
int main() {
    cout << fixed << setprecision(0);

    // --- 1. ì‚¬ìš©ì ì…ë ¥ (ì§ì—…) ---
    string job2022, job2023, job2024;
    cout << "--------------------------------------------------------" << endl;
    cout << "              ğŸ’° 3ë…„ê°„ ì—°ë´‰ ë° ì €ì¶• ì‹œë®¬ë ˆì´í„°          " << endl;
    cout << "--------------------------------------------------------" << endl;

    cout << "2022ë…„ ë‹¹ì‹ ì˜ ì§ì—…ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ? (ì˜ˆ: IT ê¸°íšì): ";
    getline(cin, job2022);
    cout << "2023ë…„ ë‹¹ì‹ ì˜ ì§ì—…ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ? (ì˜ˆ: IT ê¸°íšì): ";
    getline(cin, job2023);
    cout << "2024ë…„ ë‹¹ì‹ ì˜ ì§ì—…ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ? (ì˜ˆ: IT ê¸°íšì): ";
    getline(cin, job2024);

    // **[ìˆ˜ì •ë¨] A/B ë“±ê¸‰ ì§ˆë¬¸ ì‚­ì œ:** í•´ë‹¹ ì§ˆë¬¸ì€ ì €ì¶• ë“±ê¸‰ ê³„ì‚°ì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì‚­ì œí•©ë‹ˆë‹¤.
    cout << "\n-> ê·¼ë¬´ ë“±ê¸‰(A/B) ì…ë ¥ì€ ê±´ë„ˆë›°ê³ , ì§ì—…ì— ë”°ë¥¸ ì—°ë´‰ì„ ê¸°ì¤€ìœ¼ë¡œ ì €ì¶• ë“±ê¸‰ì„ ìë™ ê³„ì‚°í•©ë‹ˆë‹¤." << endl;
    
    // ì†Œë¹„ì•¡ ì…ë ¥
    long long spending2022, spending2023, spending2024;
    cout << "\n2022ë…„ì—ëŠ” ì–¼ë§ˆë¥¼ ì†Œë¹„í•˜ì˜€ìŠµë‹ˆê¹Œ? (ë‹¨ìœ„: ì›): ";
    cin >> spending2022;
    cout << "2023ë…„ì—ëŠ” ì–¼ë§ˆë¥¼ ì†Œë¹„í•˜ì˜€ìŠµë‹ˆê¹Œ? (ë‹¨ìœ„: ì›): ";
    cin >> spending2023;
    cout << "2024ë…„ì—ëŠ” ì–¼ë§ˆë¥¼ ì†Œë¹„í•˜ì˜€ìŠµë‹ˆê¹Œ? (ë‹¨ìœ„: ì›): ";
    cin >> spending2024;
    
    // ì¶”ê°€ ì €ì¶• ì—¬ë¶€ ì…ë ¥
    string hasExtraSavingStr;
    cout << "ì¶”ê°€ ì €ì¶•ì´ ìˆìŠµë‹ˆê¹Œ? (ë„¤/ì•„ë‹ˆì˜¤): ";
    cin >> hasExtraSavingStr;
    transform(hasExtraSavingStr.begin(), hasExtraSavingStr.end(), hasExtraSavingStr.begin(), ::tolower);
    long long extraSaving = 0;
    if (hasExtraSavingStr == "ë„¤") {
        cout << "ì¶”ê°€ ì €ì¶•ì•¡ì„ ì…ë ¥í•´ ì£¼ì„¸ìš” (3ë…„ê°„ ì´ì•¡): ";
        cin >> extraSaving;
    }
    

    // --- 2. ê¸‰ì—¬ ë° ì„¸ê¸ˆ/ë³´í—˜ë£Œ ê³„ì‚° ---
    
    long long salary2022 = (dailyWages.count(job2022) && dailyWages.at(job2022).count(2022)) ? 
                           calculateAnnualSalary(dailyWages.at(job2022).at(2022)) : 0;
    long long salary2023 = (dailyWages.count(job2023) && dailyWages.at(job2023).count(2023)) ? 
                           calculateAnnualSalary(dailyWages.at(job2023).at(2023)) : 0;
    long long salary2024 = (dailyWages.count(job2024) && dailyWages.at(job2024).count(2024)) ? 
                           calculateAnnualSalary(dailyWages.at(job2024).at(2024)) : 0;

    long long totalSalary = salary2022 + salary2023 + salary2024;
    
    map<string, long long> deductions2022 = calculateDeductions(salary2022);
    map<string, long long> deductions2023 = calculateDeductions(salary2023);
    map<string, long long> deductions2024 = calculateDeductions(salary2024);
    
    map<string, long long> totalDeductions;
    long long totalDeductionAmount = 0;

    for (const auto& rate : deductionRates) {
        string key = rate.first;
        if (key == "ì¥ê¸°ìš”ì–‘ë³´í—˜") {
            long long ltcTotal = deductions2022["ì¥ê¸°ìš”ì–‘ë³´í—˜"] + deductions2023["ì¥ê¸°ìš”ì–‘ë³´í—˜"] + deductions2024["ì¥ê¸°ìš”ì–‘ë³´í—˜"];
            totalDeductions["ì¥ê¸°ìš”ì–‘ë³´í—˜"] = ltcTotal;
            totalDeductionAmount += ltcTotal;
        } else {
            long long total = deductions2022[key] + deductions2023[key] + deductions2024[key];
            totalDeductions[key] = total;
            totalDeductionAmount += total;
        }
    }
    
    long long totalNetIncome = totalSalary - totalDeductionAmount;
    long long totalSpending = spending2022 + spending2023 + spending2024;
    long long baseSavings = totalNetIncome - totalSpending;
    long long totalSavings = baseSavings + extraSaving;
    string finalGrade = getSavingGrade(totalSavings);


    // --- 3. ê²°ê³¼ ì¶œë ¥ ---
    cout << "\n========================================================" << endl;
    cout << "              ğŸ“Š ìµœì¢… ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (3ë…„)           " << endl;
    cout << "========================================================" << endl;

    // **[ìˆ˜ì •ë¨] A/B ë“±ê¸‰ ì¶œë ¥ ì œê±°**
    cout << "3ë…„ê°„ ì´ ë³´ìˆ˜ì•¡ì€ **" << totalSalary << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ë‹¹ì‹ ì˜ ì§ì—…ì— ë”°ë¥¸ 3ë…„ê°„ ì´ ë³´ìˆ˜ì•¡ì€ **" << totalSalary << "**ì›ì…ë‹ˆë‹¤." << endl;

    cout << "\n------------------- ê³µì œ ë‚´ì—­ (3ë…„ê°„ ì´ì•¡) ------------------" << endl;
    cout << "êµ­ë¯¼ì—°ê¸ˆ ë‚©ë¶€ì•¡ì€ ì´ **" << totalDeductions["êµ­ë¯¼ì—°ê¸ˆ"] << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ê±´ê°•ë³´í—˜ ë‚©ë¶€ì•¡ì€ ì´ **" << totalDeductions["ê±´ê°•ë³´í—˜"] << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ì¥ê¸°ìš”ì–‘ë³´í—˜ ë‚©ë¶€ì•¡ì€ ì´ **" << totalDeductions["ì¥ê¸°ìš”ì–‘ë³´í—˜"] << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ê³ ìš©ë³´í—˜ ë‚©ë¶€ì•¡ì€ ì´ **" << totalDeductions["ê³ ìš©ë³´í—˜"] << "**ì›ì…ë‹ˆë‹¤." << endl;
    long long totalNationalPension_10 = static_cast<long long>(totalSalary * 0.10);
    cout << "êµ­ë¯¼ì—°ê¸ˆ (10% ê¸°ì¤€) ë‚©ë¶€ì•¡ì€ ì´ **" << totalNationalPension_10 << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ì†Œë“ì„¸ ë‚©ë¶€ì•¡ì€ ì´ **" << totalDeductions["ì†Œë“ì„¸"] << "**ì›ì…ë‹ˆë‹¤." << endl;
    cout << "ì´ ê³µì œì•¡: **" << totalDeductionAmount << "**ì›" << endl;

    cout << "\n--------------------- ì‹¤ìˆ˜ë ¹ì•¡ ë° ì†Œë¹„ ---------------------" << endl;
    cout << "3ë…„ê°„ ì‹¤ìˆ˜ë ¹ ì´ì•¡ AëŠ” **" << totalNetIncome << "**ì›, ì—°í‰ê·  A/3ì€ **" << totalNetIncome / 3 << "**ì›ì…ë‹ˆë‹¤." << endl;
    
    cout << "\nì†Œë¹„ ë‚´ì—­:" << endl;
    cout << "  2022ë…„ ì†Œë¹„: " << spending2022 << "ì›" << endl;
    cout << "  2023ë…„ ì†Œë¹„: " << spending2023 << "ì›" << endl;
    cout << "  2024ë…„ ì†Œë¹„: " << spending2024 << "ì›" << endl;
    cout << "3ë…„ê°„ ì´ ì†Œë¹„ì•¡ BëŠ” **" << totalSpending << "**ì›, ì—°í‰ê·  B/3ì€ **" << totalSpending / 3 << "**ì›ì…ë‹ˆë‹¤." << endl;

    cout << "\n------------------------- ì €ì¶• ê²°ê³¼ -------------------------" << endl;
    cout << "ì´ ì €ì¶•ì•¡ (A-B)ëŠ” **" << baseSavings << "**ì›, ì—°í‰ê·  (A-B)/3ì€ **" << baseSavings / 3 << "**ì›ì…ë‹ˆë‹¤." << endl;

    if (hasExtraSavingStr == "ë„¤") {
        cout << "ì¶”ê°€ ì €ì¶•(ì´ " << extraSaving << "ì›)ì„ í¬í•¨í•œ ì €ì¶•ì´ì•¡ì€ **" << totalSavings << "**ì›, ì—°í‰ê· ì€ **" << totalSavings / 3 << "**ì›ì…ë‹ˆë‹¤." << endl;
    } else {
        cout << "ì¶”ê°€ ì €ì¶•(ì—†ìŒ)ì„ í¬í•¨í•œ ì €ì¶•ì´ì•¡ì€ **" << totalSavings << "**ì›, ì—°í‰ê· ì€ **" << totalSavings / 3 << "**ì›ì…ë‹ˆë‹¤." << endl;
    }

    cout << "\n**ë‹¹ì‹ ì˜ ì €ì¶•ë“±ê¸‰ì€ [ " << finalGrade << " ] ì…ë‹ˆë‹¤!**" << endl;
    cout << "========================================================" << endl;

    return 0;
}
